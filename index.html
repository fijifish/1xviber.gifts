<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, viewport-fit=cover, user-scalable=no"
  />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="" />
  <title>AIMI</title>
  <!-- Убрали прямые подключения проблемных CDN -->
</head>
<body>
  <div id="root"></div>

  <script type="module" src="/src/main.jsx"></script>

  <!-- Условная/ленивая загрузка, не валит рендер при блокировке -->
  <script>
    (function () {
      if (!(window.Telegram && window.Telegram.WebApp)) {
        var tg = document.createElement('script');
        tg.src = 'https://telegram.org/js/telegram-web-app.js';
        tg.async = true;
        tg.onerror = () => console.log('[tg] blocked, continue without');
        document.head.appendChild(tg);
      }
      window.addEventListener('load', () => {
        setTimeout(() => {
          const ads = document.createElement('script');
          ads.src = 'https://sad.adsgram.ai/js/sad.min.js';
          ads.async = true;
          ads.onerror = () => console.log('[ads] blocked, skip');
          document.head.appendChild(ads);
          setTimeout(() => { if (!ads.onload) try { ads.remove(); } catch(e){} }, 2000);
        }, 1200);
      });
    })();
  </script>

  <!-- Твой текущий init можно оставить как есть -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      if (window.Telegram?.WebApp) {
        Telegram.WebApp.ready();
        window.Telegram.WebApp.disableVerticalSwipes();
        window.Telegram.WebApp.setHeaderColor("#000000");
        window.Telegram.WebApp.expand();
      }
    });
  </script>
</body>
</html>